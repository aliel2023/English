<!DOCTYPE html>
<html lang="az">

<head>
    <!-- KÄ°BER TÆHLÃœKÆSÄ°ZLÄ°K QATI (Security Enforcements) -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.gstatic.com https://apis.google.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com data:; img-src 'self' data: https:; connect-src 'self' https://firestore.googleapis.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://script.google.com https://script.googleusercontent.com https://generativelanguage.googleapis.com; frame-src 'self'; object-src 'none'; base-uri 'self';">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Clickjacking / Iframe QorumasÄ± (Framebusting) -->
    <style id="antiClickjack">body{display:none !important;}</style>
    <script>
        if (self === top) {
            var antiClickjack = document.getElementById("antiClickjack");
            if (antiClickjack) antiClickjack.parentNode.removeChild(antiClickjack);
        } else {
            top.location = self.location;
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Alielenglish Premium - Sifariş səhifəsi. Təhlükəsiz ödəniş sistemi.">
    <meta name="robots" content="noindex,nofollow">
    <title>Premium Sifariş — Alielenglish</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles/premium-order.css">
</head>

<body>
    <!-- ══ HEADER ══════════════════════════════════════════════ -->
    <header class="po-header">
        <div class="po-header-inner">
            <a href="pricing.html" class="po-logo">
                <div class="po-logo-icon">A</div>
                <span>Alielenglish</span>
            </a>
            <div class="po-trust-badges">
                <span class="po-badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <rect x="3" y="11" width="18" height="11" rx="2" />
                        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                    </svg> SSL Şifrəli</span>
                <span class="po-badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                    </svg> Stripe Qorumalı</span>
            </div>
        </div>
    </header>

    <!-- ══ MAIN ════════════════════════════════════════════════ -->
    <main class="po-main">
        <div class="po-wrapper">

            <!-- LEFT — Order Form -->
            <div class="po-left">
                <!-- Progress Steps -->
                <div class="po-steps">
                    <div class="po-step active" id="step1Indicator">
                        <div class="po-step-num">1</div>
                        <span>Məlumatlar</span>
                    </div>
                    <div class="po-step-line"></div>
                    <div class="po-step" id="step2Indicator">
                        <div class="po-step-num">2</div>
                        <span>Ödəniş</span>
                    </div>
                </div>

                <!-- ── STEP 1: Form ── -->
                <div class="po-card" id="stepFormCard">
                    <div class="po-card-header">
                        <h1 class="po-title">Sifarişi Tamamlayın</h1>
                        <p class="po-subtitle">Məlumatlarınızı daxil edin, şifrəli Stripe ödəniş səhifəsinə
                            yönləndiriləcəksiniz.</p>
                    </div>

                    <form id="orderForm" novalidate autocomplete="on">
                        <!-- 🍯 Honeypot - botlar dolduracaq, insanlar görmür -->
                        <input type="text" name="_hp" id="_hp"
                            style="opacity:0;position:absolute;pointer-events:none;height:0;width:0;" tabindex="-1"
                            autocomplete="off" aria-hidden="true">

                        <!-- Hidden plan data -->
                        <input type="hidden" id="hPlan" name="plan" value="">
                        <input type="hidden" id="hPrice" name="price" value="">
                        <input type="hidden" id="hPeriod" name="period" value="">
                        <input type="hidden" id="hPlanKey" name="planKey" value="">

                        <!-- Ad Soyad + Telefon -->
                        <div class="po-row">
                            <div class="po-field">
                                <label for="fName">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2.5">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                        <circle cx="12" cy="7" r="4" />
                                    </svg>
                                    Ad Soyad *
                                </label>
                                <input type="text" id="fName" name="name" placeholder="Əli Hüseynov" required
                                    minlength="2" maxlength="60" autocomplete="name" aria-describedby="fNameErr">
                                <span class="po-field-err" id="fNameErr"></span>
                            </div>
                            <div class="po-field">
                                <label for="fPhone">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2.5">
                                        <path
                                            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.69 13 19.79 19.79 0 0 1 1.61 4.4 2 2 0 0 1 3.58 2h3a2 2 0 0 1 2 1.72c.13.96.37 1.9.7 2.81a2 2 0 0 1-.45 2.11L7.91 9.91a16 16 0 0 0 6.18 6.18l.91-.91a2 2 0 0 1 2.11-.45c.91.33 1.85.57 2.81.7A2 2 0 0 1 22 16.92z" />
                                    </svg>
                                    Telefon *
                                </label>
                                <input type="tel" id="fPhone" name="phone" placeholder="+994 50 123 45 67" required
                                    autocomplete="tel" aria-describedby="fPhoneErr">
                                <span class="po-field-err" id="fPhoneErr"></span>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="po-field">
                            <label for="fEmail">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <rect x="2" y="4" width="20" height="16" rx="2" />
                                    <polyline points="2,4 12,13 22,4" />
                                </svg>
                                Email *
                            </label>
                            <input type="email" id="fEmail" name="email" placeholder="email@numune.com" required
                                autocomplete="email" inputmode="email" aria-describedby="fEmailErr">
                            <span class="po-field-err" id="fEmailErr"></span>
                        </div>

                        <!-- Başlama + Ödəniş -->
                        <div class="po-row">
                            <div class="po-field">
                                <label for="fStart">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2.5">
                                        <rect x="3" y="4" width="18" height="18" rx="2" />
                                        <line x1="16" y1="2" x2="16" y2="6" />
                                        <line x1="8" y1="2" x2="8" y2="6" />
                                        <line x1="3" y1="10" x2="21" y2="10" />
                                    </svg>
                                    Başlama Vaxtı
                                </label>
                                <select id="fStart" name="startDate">
                                    <option value="Bu həftə">Bu həftə</option>
                                    <option value="Növbəti həftə">Növbəti həftə</option>
                                    <option value="Bu ay">Bu ay</option>
                                    <option value="Növbəti ay">Növbəti ay</option>
                                </select>
                            </div>
                            <div class="po-field">
                                <label for="fPayment">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2.5">
                                        <rect x="1" y="4" width="22" height="16" rx="2" />
                                        <line x1="1" y1="10" x2="23" y2="10" />
                                    </svg>
                                    Ödəniş Üsulu
                                </label>
                                <select id="fPayment" name="paymentMethod">
                                    <option value="Stripe (Onlayn Kart)">💳 Stripe (Onlayn Kart)</option>
                                    <option value="Telegram (Manual)">📱 Telegram ilə Əlaqə</option>
                                </select>
                            </div>
                        </div>

                        <!-- Paket seçimi (dinamik göstərilir) -->
                        <div class="po-plan-selector" id="planSelectorSection">
                            <label class="po-plan-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <polygon
                                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                                </svg>
                                Paket Seçin *
                            </label>
                            <div class="po-plan-grid" id="planGrid">
                                <!-- JS ilə doldurulur -->
                            </div>
                        </div>

                        <!-- Global error -->
                        <div class="po-global-err hidden" id="globalErr" role="alert"></div>

                        <!-- Submit -->
                        <button type="submit" class="po-submit-btn" id="submitBtn">
                            <span id="btnText">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.5">
                                    <polyline points="20 6 9 17 4 12" />
                                </svg>
                                Sifarişi Göndər
                            </span>
                            <span class="po-spinner hidden" id="btnSpinner"></span>
                        </button>

                        <!-- Trust row -->
                        <div class="po-trust-row">
                            <span>🔒 SSL Şifrəli</span>
                            <span>🛡️ Kart məlumatı saxlanmır</span>
                            <span>💯 30 gün zəmanət</span>
                        </div>
                    </form>
                </div>

                <!-- ── STEP 2: Ödəniş ── -->
                <div class="po-card hidden" id="stepPayCard">
                    <div class="po-success-top">
                        <div class="po-success-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                        </div>
                        <h2 class="po-success-title">Sifarişiniz Qeydə Alındı!</h2>
                        <p class="po-success-sub" id="successSub">İndi ödənişi tamamlayın:</p>
                    </div>

                    <div id="paymentOptionsDiv"></div>

                    <div class="po-receipt" id="orderReceipt">
                        <!-- Qəbz JS ilə doldurulur -->
                    </div>

                    <p class="po-help-note">
                        📩 Sifariş təfərrüatı emailinizə göndəriləcək.<br>
                        Sualınız varsa:
                        <a href="https://t.me/alifarajovvv" target="_blank" rel="noopener">@alifarajovvv</a>
                        &nbsp;|&nbsp;
                        <a href="mailto:englishaliel@gmail.com">englishaliel@gmail.com</a>
                    </p>

                    <button class="po-back-btn" onclick="goBackToForm()">
                        ← Geri qayıt
                    </button>
                </div>
            </div>

            <!-- RIGHT — Summary & Security -->
            <aside class="po-right">
                <!-- Order Summary -->
                <div class="po-summary-card" id="summaryCard">
                    <div class="po-summary-header">
                        <h3>Sifariş Xülasəsi</h3>
                        <a href="pricing.html" class="po-change-link">Dəyiş</a>
                    </div>
                    <div class="po-summary-plan">
                        <div class="po-summary-plan-icon" id="summaryIcon">⭐</div>
                        <div>
                            <div class="po-summary-plan-name" id="summaryPlanName">Premium</div>
                            <div class="po-summary-plan-period" id="summaryPeriod">Aylıq</div>
                        </div>
                        <div class="po-summary-plan-price" id="summaryPrice">25 AZN</div>
                    </div>
                    <div class="po-summary-divider"></div>
                    <div class="po-summary-features" id="summaryFeatures">
                        <!-- JS ilə doldurulur -->
                    </div>
                    <div class="po-summary-total">
                        <span>Cəmi bu gün:</span>
                        <strong id="summaryTotal">25 AZN</strong>
                    </div>
                </div>

                <!-- Security Info -->
                <div class="po-security-card">
                    <h4>🔐 Təhlükəsizlik</h4>
                    <ul class="po-security-list">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#27ae60"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                            Kart məlumatı <strong>bizim serverə çatmır</strong>
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#27ae60"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                            Ödəniş <strong>Stripe</strong> tərəfindən işlənir
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#27ae60"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                            256-bit <strong>SSL/TLS</strong> şifrələmə
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#27ae60"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                            PCI DSS Level 1 uyğun
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#27ae60"
                                stroke-width="2.5">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
                            30 gün <strong>geri qaytarma zəmanəti</strong>
                        </li>
                    </ul>
                    <div class="po-powered-by">
                        <span>Güclü:</span>
                        <div class="po-stripe-badge">
                            <svg width="52" height="22" viewBox="0 0 60 25" fill="none">
                                <text x="0" y="18" font-family="Arial" font-weight="bold" font-size="17"
                                    fill="#635bff">stripe</text>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Testimonial -->
                <div class="po-testimonial">
                    <div class="po-stars">★★★★★</div>
                    <p>"Premium abunəlikdən çox razıyam. Material keyfiyyəti əla, dəstək superdir!"</p>
                    <div class="po-testimonial-author">
                        <div class="po-avatar">N</div>
                        <span>Nigar M., Bakı</span>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <script src="scripts/premium-order.js"></script>
</body>

</html>
