<!DOCTYPE html>
<html lang="az">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ä°stifadÉ™Ã§i paneli - Alielenglish">
    <title>Dashboard - Alielenglish</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/auth.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <script>
        // Firebase Auth event-É™ É™saslanÄ±r â€” localStorage sistemi ARTIQ Ä°STÄ°FADÆ EDÄ°LMÄ°R
        // auth.js 'alielAuthReady' event gÃ¶ndÉ™rÉ™ndÉ™ dashboard.js iÅŸÉ™ dÃ¼ÅŸÃ¼r
        // Bu blok yalnÄ±z ilkin loading state gÃ¶stÉ™rir
        window.addEventListener('DOMContentLoaded', function () {
            // Auth yÃ¼klÉ™nÉ™nÉ™ qÉ™dÉ™r hÉ™r ikisini gizlÉ™
            var content = document.getElementById('dashContent');
            var authRequired = document.getElementById('dashAuthRequired');
            if (content) content.classList.add('hidden');
            if (authRequired) authRequired.classList.add('hidden');
        });
    </script>
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <nav class="main-nav">
            <div class="nav-container">
                <div class="logo-section">
                    <div class="logo"><span class="logo-icon">A</span></div>
                    <span class="brand-name">Alielenglish</span>
                </div>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="index.html" data-i18n="nav.home">Ana SÉ™hifÉ™</a></li>
                    <li><a href="daily-word.html">GÃ¼nÃ¼n SÃ¶zÃ¼</a></li>
                    <li><a href="test.html">SÉ™viyyÉ™ Testi</a></li>
                    <li><a href="dashboard.html" class="active">ğŸ“Š Dashboard</a></li>
                </ul>
                <div class="nav-actions">
                    <div class="lang-dropdown nav-item">
                        <button class="lang-btn current-lang" id="currentLangBtn"
                            onclick="toggleLangDropdown()">AZ</button>
                        <div class="lang-menu" id="langMenu">
                            <button class="lang-option" onclick="switchLanguage('az', event)">AZ</button>
                            <button class="lang-option" onclick="switchLanguage('en', event)">EN</button>
                        </div>
                    </div>
                    <button class="mobile-toggle" onclick="toggleMobileMenu()">
                        <span></span><span></span><span></span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Auth Required -->
    <div id="dashAuthRequired" class="auth-required-dash hidden">
        <div class="container">
            <div class="auth-prompt-center">
                <div style="font-size:5rem;">ğŸ”</div>
                <h2>HesabÄ±nÄ±za Daxil Olun</h2>
                <p>Dashboard-Ä± gÃ¶rmÉ™k Ã¼Ã§Ã¼n hesabÄ±nÄ±za daxil olun</p>
                <button class="btn btn-primary" onclick="openAuthModal('login')">Daxil Ol</button>
                <button class="btn btn-secondary" onclick="openAuthModal('register')"
                    style="margin-left:1rem;">Qeydiyyat</button>
            </div>
        </div>
    </div>

    <!-- Dashboard Content -->
    <div id="dashContent" class="hidden">

        <!-- Welcome Header -->
        <section class="dash-hero">
            <div class="container">
                <div class="dash-hero-inner">
                    <div class="dash-welcome">
                        <div class="dash-avatar" id="dashAvatar">A</div>
                        <div>
                            <h1 id="dashGreeting">XoÅŸ gÉ™ldiniz!</h1>
                            <p id="dashSubtitle" class="dash-subtitle"></p>
                        </div>
                    </div>
                    <div class="dash-streak-card" id="dashStreakCard">
                        <div class="streak-fire">ğŸ”¥</div>
                        <div class="streak-number" id="dashStreakNum">0</div>
                        <div class="streak-label">GÃ¼nlÃ¼k SÄ±ra</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Grid -->
        <section class="dash-stats-section">
            <div class="container">
                <div class="dash-stats-grid">
                    <div class="dash-stat-card">
                        <div class="dash-stat-icon">ğŸ“š</div>
                        <div class="dash-stat-num" id="statWords">0</div>
                        <div class="dash-stat-label">Ã–yrÉ™nilmiÅŸ SÃ¶z</div>
                    </div>
                    <div class="dash-stat-card">
                        <div class="dash-stat-icon">ğŸ¯</div>
                        <div class="dash-stat-num" id="statTests">0</div>
                        <div class="dash-stat-label">Test SayÄ±</div>
                    </div>
                    <div class="dash-stat-card">
                        <div class="dash-stat-icon">ğŸ“…</div>
                        <div class="dash-stat-num" id="statDays">0</div>
                        <div class="dash-stat-label">Aktiv GÃ¼n</div>
                    </div>
                    <div class="dash-stat-card">
                        <div class="dash-stat-icon">â¤ï¸</div>
                        <div class="dash-stat-num" id="statFavs">0</div>
                        <div class="dash-stat-label">Sevimli SÃ¶z</div>
                    </div>
                    <div class="dash-stat-card">
                        <div class="dash-stat-icon">ğŸ†</div>
                        <div class="dash-stat-num" id="statStreak">0</div>
                        <div class="dash-stat-label">Æn Uzun SÄ±ra</div>
                    </div>
                    <div class="dash-stat-card primary-card">
                        <div class="dash-stat-icon">ğŸ“ˆ</div>
                        <div class="dash-stat-num" id="statLevel">A1</div>
                        <div class="dash-stat-label">Cari SÉ™viyyÉ™</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Daily Tip -->
        <section class="dash-section">
            <div class="container">
                <div class="dash-tip-card" id="dashTipCard">
                    <div class="dash-tip-icon" id="dashTipIcon">ğŸ’¡</div>
                    <div class="dash-tip-content">
                        <h3 id="dashTipTitle">GÃ¼n MÉ™slÉ™hÉ™ti</h3>
                        <p id="dashTipText">YÃ¼klÉ™nir...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Weekly Progress -->
        <section class="dash-section">
            <div class="container">
                <h2 class="dash-section-title">ğŸ“Š HÉ™ftÉ™lik Aktivlik</h2>
                <div class="weekly-progress-card">
                    <div class="weekly-days" id="weeklyDays"></div>
                    <div class="weekly-goal">
                        <span>HÉ™ftÉ™lik HÉ™dÉ™f: </span>
                        <span id="weeklyGoalText">0/7 gÃ¼n</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Badges -->
        <section class="dash-section">
            <div class="container">
                <h2 class="dash-section-title">ğŸ… NailiyyÉ™tlÉ™r</h2>
                <div class="badges-grid" id="badgesGrid"></div>
            </div>
        </section>

        <!-- Test History -->
        <section class="dash-section">
            <div class="container">
                <h2 class="dash-section-title">ğŸ“ Test TarixÃ§É™si</h2>
                <div id="testHistoryContent">
                    <div class="empty-state">HÉ™lÉ™ heÃ§ bir test tamamlanmayÄ±b. <a href="test.html"
                            class="link-primary">Testi baÅŸlayÄ±n â†’</a></div>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="dash-section">
            <div class="container">
                <h2 class="dash-section-title">âš¡ SÃ¼rÉ™tli KeÃ§idlÉ™r</h2>
                <div class="quick-actions-grid">
                    <a href="daily-word.html" class="quick-action-card">
                        <span class="qa-icon">ğŸ“…</span>
                        <div>
                            <strong>GÃ¼nÃ¼n SÃ¶zÃ¼</strong>
                            <p>Yeni sÃ¶z Ã¶yrÉ™n</p>
                        </div>
                    </a>
                    <a href="test.html" class="quick-action-card">
                        <span class="qa-icon">ğŸ¯</span>
                        <div>
                            <strong>SÉ™viyyÉ™ Testi</strong>
                            <p>Bilikini yoxla</p>
                        </div>
                    </a>
                    <a href="speaking.html" class="quick-action-card">
                        <span class="qa-icon">ğŸ™ï¸</span>
                        <div>
                            <strong>DanÄ±ÅŸÄ±q</strong>
                            <p>TÉ™lÉ™ffÃ¼zÃ¼ inkiÅŸaf etdir</p>
                        </div>
                    </a>
                    <a href="favorites.html" class="quick-action-card">
                        <span class="qa-icon">â¤ï¸</span>
                        <div>
                            <strong>SevimlilÉ™r</strong>
                            <p>Ã–yrÉ™ndiklÉ™rini tÉ™krar et</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Account Info -->
        <section class="dash-section">
            <div class="container">
                <div class="account-card">
                    <h2>ğŸ‘¤ Hesab MÉ™lumatlarÄ±</h2>
                    <div class="account-info-grid" id="accountInfoGrid"></div>
                    <button class="btn btn-secondary logout-dash-btn" onclick="logoutUser()">ğŸšª Hesabdan Ã‡Ä±x</button>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-bottom">
                <p>Â© 2025 Alielenglish. BÃ¼tÃ¼n hÃ¼quqlar qorunur.</p>
            </div>
        </div>
    </footer>

    <script src="scripts/i18n.js"></script>
    <script src="scripts/main.js"></script>
    <script type="module" src="scripts/auth.js"></script>
    <script src="scripts/dashboard.js"></script>
</body>

</html>